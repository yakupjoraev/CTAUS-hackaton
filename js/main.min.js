"use strict";

function menu() {
  document.getElementById("nav__check").checked ? $(".nav__menu").css("max-height", "100vh") : $(".nav__menu").css("max-height", "0");
}

function checkboxOff() {
  $("#nav__check").prop("checked", !1), menu();
}

$(".main__case__cards__card").hover(function () {
  $(this).css("max-height", "100vh"), $(this).find(".main__case__cards__card__description").css("display", "block"), $(this).find(".main__case__cards__card__description").css("opacity", "1");
}, function () {
  $(this).css("max-height", "8.84em"), $(this).find(".main__case__cards__card__description").css("disply", "none"), $(this).find(".main__case__cards__card__description").css("opacity", "0");
}), $(window).on("scroll", function () {
  $(this).scrollTop() > 0 ? $("nav").addClass("scrolled__nav") : $("nav").removeClass("scrolled__nav");
});


function startSlider() {
  const slider = document.querySelector('[data-slider-photos]');
  const slides = document.querySelectorAll('[data-slider-photos-item]');
  const slideWidth = slides[0].clientWidth;
  const visibleSlides = Math.floor(slider.clientWidth / slideWidth);
  let currentIndex = 0;

  function updateSliderPosition() {
    slider.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
  }

  function nextSlide() {
    currentIndex = (currentIndex + 1) % slides.length;
    updateSliderPosition();
  }

  function prevSlide() {
    currentIndex = (currentIndex - 1 + slides.length) % slides.length;
    updateSliderPosition();
  }

  setInterval(nextSlide, 3000);

  let touchStartX = 0;
  let touchEndX = 0;

  slider.addEventListener('touchstart', handleTouchStart);
  slider.addEventListener('touchmove', handleTouchMove);

  function handleTouchStart(e) {
    touchStartX = e.touches[0].clientX;
  }

  function handleTouchMove(e) {
    touchEndX = e.touches[0].clientX;

    if (touchStartX - touchEndX > 50) {
      nextSlide();
    } else if (touchEndX - touchStartX > 50) {
      prevSlide();
    }
  }
}

startSlider();


